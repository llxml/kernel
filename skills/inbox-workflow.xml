<skill name="inbox-workflow" v="2">
<desc>Managing project inboxes - the central message queue for work that needs attention</desc>

<overview>
The inbox is a project's message queue. It holds items that need attention - bug reports, feature ideas, questions, cross-project notifications. Items flow in from various sources and flow out to tickets, quick fixes, or get discarded.

Directory: `META/inbox/`
File format: `YYYYMMDD-HHMM-slug.md`
</overview>

<what_goes_in_inbox>
- Bug reports (from agents or humans)
- Feature ideas and requests
- Questions needing discussion
- Cross-project notifications ("your library has issue X")
- Decomposed sub-problems from planning sessions
- Anything that needs a response or action
</what_goes_in_inbox>

<sources>
<backlog>
Human scratch space at `META/BACKLOG.md`. Free-form jotting that gets processed into inbox items.

Processing backlog:
1. Read BACKLOG.md
2. Identify discrete items
3. Create inbox item for each with context and questions
4. Clear or archive processed backlog entries
</backlog>

<cross_project>
Agents discovering issues in vendored libraries or dependencies should drop a message in that project's inbox.

```bash
# Working in project A, find bug in vendored library B
# Create item in B's inbox, not A's
cat > <library-B-root>/META/inbox/YYYYMMDD-HHMM-bug-description.md
```

Include:
- What you were doing when you found it
- How to reproduce
- Which project you were working in
</cross_project>

<agent_reports>
During work, agents may discover:
- Bugs in current project → inbox or fix directly
- Bugs in dependencies → that project's inbox
- Missing features needed → inbox item
- Technical debt → inbox item
</agent_reports>
</sources>

<item_format>
```markdown
# Title

Brief description of the issue, idea, or question.

## Context
- Where this came from
- Why it matters
- Related files or systems

## Questions
- Clarifying questions to seed discussion
- Options to consider
- Unknowns to resolve
```

Keep items focused. One topic per item. If it's too big, split it.
</item_format>

<planning_sessions>
Inbox items get addressed through planning sessions:

1. Create ctx file: `ctx/plan-{slug}.xml`
2. Reference the inbox item in `<then>` section
3. Discuss to clarify requirements and scope
4. Outcome: ticket, quick fix, defer, or discard

Ctx file template:
```xml
<then>
Read META/inbox/YYYYMMDD-HHMM-slug.md

We are discussing [brief description]. Review the context and questions, then discuss with me to [clarify requirements / decide approach / etc]. Once aligned, [write ticket / implement fix / etc].
</then>
```
</planning_sessions>

<outcomes>
After planning, items flow to:

- **Ticket**: Well-defined work → `META/tickets/todo/`
- **Quick fix**: Small enough to just do → implement directly
- **Decompose**: Too big → split into multiple inbox items
- **Defer**: Not now → move to `META/inbox/deferred/` or note in item
- **Discard**: Won't do → delete or move to `META/inbox/archive/`
</outcomes>

<backlog_file>
`META/BACKLOG.md` is the human scratch space.

Purpose:
- Quick capture of ideas without ceremony
- Free-form, no required format
- Gets processed into proper inbox items

Keep it simple:
```markdown
# Backlog

- thing I noticed needs fixing
- idea for feature X
- question about Y
```

Process regularly. Don't let it grow stale.
</backlog_file>

<cross_project_awareness>
When working on a project:
- Know what libraries it vendors
- If you find issues in vendored code, report to that project's inbox
- Check your own inbox for reports from other projects/agents
- Inbox is async communication between sessions and projects
</cross_project_awareness>
</skill>
